<!--
  ~ Copyright (C) 2012-2016 Project Delphinium - All Rights Reserved
  ~
  ~ This file is subject to the terms and conditions defined in
  ~ file 'https://github.com/ProjectDelphinium/delphinium/blob/master/EULA',
  ~ which is part of this source code package.
  ~
  ~ NOTICE:  All information contained herein is, and remains the property of Project Delphinium. The intellectual and technical concepts contained
  ~ herein are proprietary to Project Delphinium and may be covered by U.S. and Foreign Patents, patents in process, and are protected by trade secret or copyright law.
  ~ Dissemination of this information or reproduction of this material is strictly forbidden unless prior written permission is obtained
  ~ from Project Delphinium.
  ~
  ~ THE RECEIPT OR POSSESSION OF THIS SOURCE CODE AND/OR RELATED INFORMATION DOES NOT CONVEY OR IMPLY ANY RIGHTS
  ~ TO REPRODUCE, DISCLOSE OR DISTRIBUTE ITS CONTENTS, OR TO MANUFACTURE, USE, OR SELL ANYTHING THAT IT  MAY DESCRIBE, IN WHOLE OR IN PART.
  ~
  ~ Unauthorized copying of this file, via any medium is strictly prohibited
  ~ Non-commercial use only, you may not charge money for the software
  ~ You can modify personal copy of source-code but cannot distribute modifications
  ~ You may not distribute any version of this software, modified or otherwise
  -->
  
<div id="lights">
 <!-- lights go here -->
</div>
<div id="content"></div>
<script type="text/javascript" src="plugins/delphinium/blossom/assets/javascript/jquery.min.js"></script>
<script type="text/javascript" src="plugins/delphinium/blossom/assets/javascript/bootstrap.min.js"></script>
<script>
    /* jquery and boostrap.js must be added here
       include additional css or javascript libraries
        
        component instance DB record
        [id,name, <Your Fields>, course_id,copy_id]
    */
    
    var config = {{config|raw}};
    //console.log('config',config);
    
    //ORIGINAL CODE: document.getElementById('content').innerHTML = config[0].custom;
    /* Usage Example
       write custom field to div content
       custom field can be edited
       in Backend or Frontend
    */
    $('#content').html(config.custom);
    /*
        initialize main variables
        get variables from the php with twig
        use twig to determine if the component is seen 
        by an instructor or a student and load needed partial
    */
    var role = '{{role}}';//string
    //console.log('Role: ',role);

    var path = '{{path}}';
    //console.log('Path: ', path);

    var menu = {{menu}};
    //console.log('Menu: ',menu);

    var current_grade; 
    if('Learner' == role){
        current_grade = {{current_grade}};
    }else{
        current_grade = 1000000;
    }
    //console.log(current_grade);
</script>
<script type="text/javascript" src="plugins/delphinium/blossom/assets/javascript/eastereggs.js"></script>
{% if ('Learner' in role) %}
    {% if (menu == 1) %}
        {% partial 'eastereggs::studentView' %}
    {% endif %}
{% elseif ('Instructor' in role or 'TeachingAssistant' in role) %}
    {% if (menu == 1) %}
        {% partial 'eastereggs::instructorViewHead' %}
    {% else %}
        {% partial 'eastereggs::instructorViewHeadless' %}
    {% endif %} 
{% endif %}  